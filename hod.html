<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="CSS/mentor_style.css" rel="stylesheet" type="text/css">
    <link href="CSS/nav.css" rel="stylesheet" type="text/css">
    <link href="CSS/leave_form.css" rel="stylesheet" type="text/css">
    <link href="CSS/profile.css" rel="stylesheet" type="text/css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script defer src="JS/hod_dean.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <title>Apply for Leave Online</title>
</head>
<body ng-controller="myController">
    <header class="header">
        <a href="#" class="logo">HOD Dashboard</a>
        <nav class="navbar">
            <a href="leave-app">Apply for Leave</a>
            <a href="applicants">Leave Applicants</a>
            <button type="submit">Logout</button>
        </nav>
    </header>
    <div class="left-container">
        <div class="info-container">
            <div class="image-conatainer">
                <img class="img" src="Images/profile_img.jpg" alt="Student Profile Photo" />
            </div>
            <div class="info">
                <table>
                    <tr>
                        <th><h3>Name</h3></th>
                        <td>Utkarsh Mandloi</td>
                    </tr>
                    <tr>
                        <th><h3>Emp. ID</h3></th>
                        <td>70552200022</td>
                    </tr>
                    <tr>
                        <th><h3>Dept.</h3></th>
                        <td>Comp. Engg.</td>
                    </tr>
                    <tr>
                        <th><h3>School</h3></th>
                        <td>MPSTME</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class="right-container">
        <div class="right-sub-container">
            <div class="applicants inactive">
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Abhishek Pal</h1>
                        <h5 class="sap">70552200030</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="red" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Amit Upadhyay</h1>
                        <h5 class="sap">70552200010</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="yellow" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Utkarsh Mandloi</h1>
                        <h5 class="sap">70552200022</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="green" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Abhishek Pal</h1>
                        <h5 class="sap">70552200030</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="red" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Amit Upadhyay</h1>
                        <h5 class="sap">70552200010</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="yellow" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Utkarsh Mandloi</h1>
                        <h5 class="sap">70552200022</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="green" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Abhishek Pal</h1>
                        <h5 class="sap">70552200030</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="red" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Amit Upadhyay</h1>
                        <h5 class="sap">70552200010</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="yellow" class='bx bxs-circle' ></i>
                    </div>
                </div>
                <div class="status-card">
                    <div class="card-info">
                        <h3 class="name">Utkarsh Mandloi</h1>
                        <h5 class="sap">70552200022</h5>
                    </div>
                    <div class="status-indicator">
                        <i id="green" class='bx bxs-circle' ></i>
                    </div>
                </div>
            </div>
            <div class="leave-app active">
                <form name="leaveForm" ng-submit="submitForm()" novalidate>
                    <h1>Leave Application</h1>
                    <div class="leave-request">
                      <label for="fromDate"><b>From Date:</b></label>
                      <input type="date" id="fromDate" name="fromDate" ng-model="fromDate" ng-max="toDate" required>
                      <label for="toDate" class="to-date"><b>To Date:</b></label>
                      <input type="date" id="toDate" name="toDate" ng-model="toDate" ng-min="fromDate"
                        ng-max="{{ today | date:'yyyy-MM-dd' }}" required>
                    </div>
                    <div class="span-error">
                      <span class="error" ng-show="leaveForm.fromDate.$error.required && leaveForm.fromDate.$dirty">From Date is
                        required.</span>
                      <span class="error" ng-show="leaveForm.fromDate.$error.max">From Date cannot be after To Date.</span>
                      <span class="error" ng-show="leaveForm.toDate.$error.required && leaveForm.toDate.$dirty">To Date is
                        required.</span>
                      <span class="error" ng-show="leaveForm.toDate.$error.min">To Date cannot be before From Date.</span>
                      <span class="error" ng-show="leaveForm.toDate.$error.max">To Date cannot be after today.</span>
                    </div>
                    <div class="leave-type">
                      <div class="radio-buttons">
                        <p><b>Type of Leave:</b></p>
                        <label for="authorizedLeave">
                          <input type="radio" id="authorizedLeave" name="leaveType" value="authorized" ng-model="leaveType"
                            required>
                          Authorized Leave
                        </label>
                        <label for="specialLeave">
                          <input type="radio" id="specialLeave" name="leaveType" value="special" ng-model="leaveType">
                          Special Leave
                        </label>
                      </div>
                    </div>
                    <div class="reason">
                      <label for="reasonForLeave"><b>Reason for Leave:</b></label>
                      <textarea rows="4" id="reasonForLeave" name="reasonForLeave" ng-model="reasonForLeave" required></textarea>
                      <span class="error"
                        ng-show="leaveForm.reasonForLeave.$error.required && leaveForm.reasonForLeave.$dirty">Reason for Leave is
                        required.</span>
                    </div>
                    <div class="address">
                      <label for="permanent_address"><b>Permanent Address:</b></label>
                      <textarea rows="4" id="permanent_address" name="address" ng-model="address" required></textarea>
                      <span class="error"
                        ng-show="leaveForm.address.$error.required && leaveForm.address.$dirty">Permanent Address is
                        required.</span>
                    </div>
                    <div class="buttons">
                        <button type="reset" ng-click="resetForm()">Reset</button>
                      <button type="submit" ng-style="{'background-color': leaveForm.$valid ? '' : 'grey'}"
                        ng-disabled="leaveForm.$invalid">Submit Application</button>
                    </div>
                  </form>
            </div>
        </div>
    </div>
    <script>
        angular.module('myApp', [])
          .controller('myController', function ($scope) {
            $scope.today = new Date();
    
            $scope.submitForm = function () {
              if ($scope.leaveForm.$valid) {
                console.log('Form submitted successfully!');
              } else {
                console.log('Form is invalid. Please check your inputs.');
              }
            };
    
            $scope.resetForm = function () {
                $scope.leaveForm.$setPristine();
                $scope.leaveForm.$setUntouched();
                $scope.fromDate = null;
                $scope.toDate = null;
                $scope.leaveType = null;
                $scope.reasonForLeave = null;
                $scope.address = null;
                };
          });
    </script>
</body>
</html>